{"version":3,"sources":["webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/main.js","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?d30d","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?3a08","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?a21d","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?418c","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?6c39","webpack:////Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue?80ba"],"names":["createPage","Page","console","log","components","HMmessages","data","addreing","allorder","openid","payment","physical","Number","MerchantId","nameshop","logo","addressing","methods","addRess","wx","chooseAddress","success","res","toPay","succ","ico","tIps","wxPay","showToast","title","icon","duration","mask","peopleobj","address","detailInfo","name","userName","iphone","telNumber","merchantid","ide","slice","commod","Paymentinfor","type","arrinfo","useropenid","placeOrder","Placeorder","Payparame","datas","wxPays","wxpay","paySucc","paysucc","Promise","resolve","reject","wxpayingurl","then","hideToast","catch","err","requestPayment","timeStamp","time_stamp","nonceStr","package","prepayId","signType","paySign","payauto","fail","out_trade_no","id","_id","show","fontColor","iconColor","background","onLoad","e","ordermen","JSON","parse"],"mappings":"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","file":"pages/placeorder/placeorder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/placeorder/placeorder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./placeorder.vue?vue&type=template&id=704bfc1a&\"\nvar renderjs\nimport script from \"./placeorder.vue?vue&type=script&lang=js&\"\nexport * from \"./placeorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./placeorder.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('704bfc1a')) {\n      api.createRecord('704bfc1a', component.options)\n    } else {\n      api.reload('704bfc1a', component.options)\n    }\n    module.hot.accept(\"./placeorder.vue?vue&type=template&id=704bfc1a&\", function () {\n      api.rerender('704bfc1a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/apple/Documents/HBuilderProjects/美团外卖/pages/placeorder/placeorder.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=template&id=704bfc1a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar {\n\tlog\n} = console\n// 引入提示组件\nimport HMmessages from \"@/components/HM-messages/HM-messages.vue\"\n// post\nimport {\n\tpublicing\n} from '../../api/api.js'\n// 地址\nimport {\n\twxpayingurl\n} from '../../api/request.js'\nexport default {\n\tcomponents: {\n\t\tHMmessages\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddreing: true,\n\t\t\tallorder: [],\n\t\t\topenid: '',\n\t\t\tpayment: '',\n\t\t\tphysical: Number,\n\t\t\tMerchantId: '',\n\t\t\tnameshop: '',\n\t\t\tlogo: '',\n\t\t\t// 收货地址\n\t\t\taddressing: {}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 选择收货地址\n\t\taddRess() {\n\t\t\twx.chooseAddress({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tlog(res)\n\t\t\t\t\tthis.addressing = res\n\t\t\t\t\tthis.addreing = false\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//去支付\n\t\ttoPay() {\n\t\t\tif (this.addreing == true) {\n\t\t\t\tlog('没有选择收货地址')\n\t\t\t\tlet succ = '请选择收货地址'\n\t\t\t\tlet ico = 'error'\n\t\t\t\tthis.tIps(succ, ico)\n\t\t\t\treturn false\n\t\t\t} else {\n\t\t\t\tlog('可以支付')\n\t\t\t\tthis.wxPay()\n\t\t\t}\n\t\t},\n\t\t//微信支付\n\t\tasync wxPay() {\n\t\t\t// 提示用户正在下单，防止用户多次点击下单按钮\n\t\t\twx.showToast({\n\t\t\t\ttitle: '正在下单',\n\t\t\t\ticon: 'loading',\n\t\t\t\tduration: 200000,\n\t\t\t\tmask: true\n\t\t\t})\n\t\t\t//搞定必填参数\n\t\t\t//客户信息\n\t\t\tlet peopleobj = {\n\t\t\t\taddress: this.addressing.detailInfo,\n\t\t\t\tname: this.addressing.userName,\n\t\t\t\tiphone: this.addressing.telNumber\n\t\t\t}\n\t\t\t// 商家标识\n\t\t\tlet merchantid = this.MerchantId\n\t\t\t// 截取商家标识字符串\n\t\t\tlet ide = this.MerchantId.slice(0, 7)\n\t\t\t// 商家名称\n\t\t\tlet commod = this.nameshop\n\t\t\t// 商家logo\n\t\t\tlet logo = this.logo\n\t\t\t//把要发送到后台到数据以对象形式存储\n\t\t\tlet Paymentinfor = {\n\t\t\t\ttype: 'placeOrder',\n\t\t\t\tpeopleobj,\n\t\t\t\tarrinfo: this.allorder,\n\t\t\t\tmerchantid,\n\t\t\t\tide,\n\t\t\t\tcommod,\n\t\t\t\tlogo,\n\t\t\t\tuseropenid: this.openid,\n\t\t\t\tpayment: this.payment\n\t\t\t}\n\t\t\tlog(Paymentinfor)\n\t\t\t// es6 :async await:异步编程同步化\n\t\t\t// 第一步：统一下单\n\t\t\t// await:等待\n\t\t\tlet Placeorder = await this.placeOrder(Paymentinfor)\n\t\t\tlet Payparame = Placeorder.data.datas\n\t\t\t// 第二步:发起支付\n\t\t\tlet wxpay = await this.wxPays(Payparame)\n\t\t\t// 第三步：查询时候支付成功\n\t\t\tlet paysucc = await this.paySucc(Payparame)\n\t\t},\n\t\t//第一步:统一下单\n\t\tplaceOrder(Paymentinfor) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpublicing(wxpayingurl, Paymentinfor)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tlog(res)\n\t\t\t\t\t\twx.hideToast()\n\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tlog(err)\n\t\t\t\t\t\twx.hideToast()\n\t\t\t\t\t\treject('支付错误')\n\t\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t//第二步：发起支付\n\t\twxPays(Payparame) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\twx.requestPayment({\n\t\t\t\t\ttimeStamp: Payparame.time_stamp,\n\t\t\t\t\tnonceStr: Payparame.nonceStr,\n\t\t\t\t\tpackage: `prepay_id=${Payparame.prepayId}`,\n\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\tpaySign: Payparame.payauto,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t// log(res)\n\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tlog(err)\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t\tlet succ = '取消支付'\n\t\t\t\t\t\tlet ico = 'success'\n\t\t\t\t\t\tthis.tIps(succ, ico)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 查询是否支付成功\n\t\tpaySucc(Payparame) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet data = {\n\t\t\t\t\ttype: 'paysucc',\n\t\t\t\t\tout_trade_no: Payparame.out_trade_no,\n\t\t\t\t\tid: Payparame._id,\n\t\t\t\t\tmerchantid: this.MerchantId\n\t\t\t\t}\n\t\t\t\tpublicing(wxpayingurl, data)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tlog(res)\n\t\t\t\t\t\tlet succ = '支付成功'\n\t\t\t\t\t\tlet ico = 'success'\n\t\t\t\t\t\tthis.tIps(succ, ico)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tlog(err)\n\t\t\t\t\t\tlet succ = '支付失败'\n\t\t\t\t\t\tlet ico = 'success'\n\t\t\t\t\t\tthis.tIps(succ, ico)\n\t\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 提示\n\t\ttIps(succ, ico) {\n\t\t\tthis.HMmessages.show(succ, {\n\t\t\t\ticon: ico,\n\t\t\t\tfontColor: \"#ffffff\",\n\t\t\t\ticonColor: \"#ffffff\",\n\t\t\t\tbackground: \"rgba(102,0,51,0.8)\"\n\t\t\t})\n\t\t}\n\t},\n\t//接收下单页面的路径数据\n\tonLoad(e) {\n\t\tlog(e)\n\t\tlet ordermen = JSON.parse(e.ide)\n\t\tlog(ordermen)\n\t\t// 商品数据\n\t\tthis.allorder = ordermen.allorder\n\t\t// openid\n\t\tthis.openid = ordermen.openid\n\t\t// 支付的价格\n\t\tthis.payment = ordermen.payment\n\t\t// 配送费\n\t\tthis.physical = ordermen.physical\n\t\t// 商家标识\n\t\tthis.MerchantId = ordermen.MerchantId\n\t\t// 商家名称\n\t\tthis.nameshop = ordermen.nameshop\n\t\t// 商家logo\n\t\tthis.logo = ordermen.logo\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}